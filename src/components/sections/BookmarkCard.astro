---
import Card from '../../components/Card.astro';
// 修正这里的路径：从 ../../../ 改为 ../../
import { PROFILE } from "../../content/profileData";

// 获取我们在 profileData.ts 里定义的收藏列表
// 如果 profileData 里没有 favorites，就给个空数组防止报错
const favorites = PROFILE.favorites || [];
---

<Card colSpan="md:col-span-1" rowSpan="md:row-span-2" title="我的收藏">
  <div class="flex flex-col gap-4 h-full overflow-y-auto pr-1">
    
    <div class="flex flex-col gap-2">
      {
        favorites.map((item) => (
          <a
            href={item.url}
            target="_blank"
            class="flex items-center gap-3 px-3 py-3 text-sm font-medium border rounded-lg bg-gray-50 dark:bg-gray-800/50 hover:bg-primary/10 hover:border-primary/50 hover:scale-[1.02] transition-all duration-300 group"
          >
            {/* 如果 icon 是 emoji，直接显示；如果是组件需要另外处理，这里假设是 emoji 或字符 */}
            <span class="text-xl group-hover:scale-110 transition-transform">{item.icon}</span>
            <span class="text-gray-700 dark:text-gray-200">{item.title}</span>
          </a>
        ))
      }
    </div>
  
    {favorites.length === 0 && (
      <div class="flex flex-col items-center justify-center h-full text-gray-400 text-xs italic text-center">
         <p>暂无收藏</p>
         <p>请在 profileData.ts 中添加 favorites 数据</p>
      </div>
    )}
  </div>
</Card>
