---
import Card from '../../components/Card.astro';
// ✅ 关键修改：从 bookmarks.ts 导入数据，而不是 profileData
import { bookmarks } from '../../data/bookmarks';
// 引入一个通用图标，因为 bookmarks 数据里可能没有定义 icon 字段
import { Globe } from 'lucide-react'; 
---

<Card colSpan="md:col-span-1 lg:col-span-2" rowSpan="md:row-span-1 lg:row-span-2" title="网站收藏">
  <div class="flex flex-col gap-3 h-full mt-2 overflow-y-auto pr-1">
    {
      bookmarks.map((item) => (
        <a
          href={item.url}
          target="_blank"
          class="flex items-center gap-3 px-3 py-3 rounded-lg bg-gray-50 dark:bg-gray-800/50 hover:bg-primary/10 hover:scale-[1.02] transition-all duration-300 border border-transparent hover:border-primary/20 group"
        >
          {/* 图标部分：如果有自定义 icon 就用，没有就用默认的地球图标 */}
          <span class="text-primary/70 group-hover:text-primary transition-colors">
            <Globe size={18} />
          </span>
          
          <div class="flex flex-col overflow-hidden">
            <span class="font-bold text-sm truncate text-gray-700 dark:text-gray-200 group-hover:text-primary transition-colors">
              {item.title}
            </span>
            {/* 如果 bookmarks 数据里有 description，就显示出来，没有就不显示 */}
            {item.description && (
              <span class="text-xs text-gray-400 truncate">
                {item.description}
              </span>
            )}
          </div>
        </a>
      ))
    }

    {bookmarks.length === 0 && (
      <div class="flex flex-col items-center justify-center h-full text-gray-400 text-xs italic">
         <p>暂无收藏</p>
      </div>
    )}
  </div>
</Card>
